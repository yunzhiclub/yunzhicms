{layout name="index" /} {layout name="index" /}
<div class="row">
    <div class="span16">
        <div class="box">
            <div class="box-header">
                <i class="icon-book"></i>
                <h5>菜单</h5>
            </div>
            <div class="box-content">
                <form class="form-horizontal" action="{:url('@admin/menu')}" method="post">
                    <div class="control-group">
                        <label class="control-label" for="_title">标题</label>
                        <div class="controls">
                            <input type="text" id="_title" name="title" placeholder="请输入标题" />
                        </div>
                    </div>
                    <div>
                        <label>pid</label>
                        <select class="form-control" name="pid">
                            <option value="0">0</option>
                            {volist name="MenuModels" id="MenuModel"}
                            <option value="{$MenuModel->id}">{$MenuModel->id}</option>
                            {/volist}
                        </select>
                    </div>
                    <div>
                        <label>对应组件名</label>
                        <select class="form-control" name="component_name">
                            {volist name="Components" id="Component"}
                            <option value="{$Component->name}">{$Component->name}</option>
                            {/volist}
                        </select>
                    </div>
                    <div>
                        <label>菜单类型</label>
                        <select class="form-control" name="menu_type_name">
                            {volist name="MenuTypeModels" id="MenuTypeModel"}
                            <option value="{$MenuTypeModel->name}">{$MenuTypeModel->name}</option>
                            {/volist}
                        </select>
                    </div>
                    <div>
                        <label for="">url</label>
                        <input type="text" name="url" />
                    </div>
                    <div>
                        <label for="">是否隐藏</label>
                        <select class="form-control" name="is_hidden">
                            <option value="1">1</option>
                            <option value="0">0</option>
                        </select>
                    </div>
                    <div>
                        <label for="">权重</label>
                        <input type="text" name="weight" />
                    </div>
                    <div>
                        <label for="">描述信息</label>
                        <input type="text" name="description" />
                    </div>
                    <div>
                        <label for="">状态</label>
                        <select class="form-control" name="status">
                            <option value="1">1</option>
                            <option value="0">0</option>
                        </select>
                    </div>
                    <div>
                        <label for="">配置信息</label>
                        <ol>
                            {foreach name="MenuModel->getConfig()" key="key" id="_config"}
                            <li>
                                <label>{$_config['title']}</label>
                                <input type="text" name="config[{$key}]" value="{$_config['value']}">
                            </li>
                            {/foreach}
                        </ol>
                    </div>
                    <div>
                        <label for="">过滤器信息</label>
                        <ol>
                            {foreach name="MenuModel->getFilterModels()" key="key" id="_FilterModel"} {include file="../editFilter" /} {/foreach}
                        </ol>
                    </div>
                    <div>
                        <label for="">用户组权限：</label>
                        <ul>
                            {volist name="userGroupModels" id="_UserGroupModel"}
                            <li>
                                {$_UserGroupModel->title}
                                <ul>
                                    <li>
                                        <label for="">
                                            <input type="checkbox" name="access[{$_UserGroupModel->getData('name')}][index]" />浏览</label>
                                    </li>
                                    <li>
                                        <label for="">
                                            <input type="checkbox" name="access[{$_UserGroupModel->getData('name')}][read]" />查看</label>
                                    </li>
                                    <li>
                                        <label for="">
                                            <input type="checkbox" name="access[{$_UserGroupModel->getData('name')}][create]" />新增</label>
                                    </li>
                                    <li>
                                        <label for="">
                                            <input type="checkbox" name="access[{$_UserGroupModel->getData('name')}][update]" />编辑</label>
                                    </li>
                                    <li>
                                        <label for="">
                                            <input type="checkbox" name="access[{$_UserGroupModel->getData('name')}][delete]" />删除</label>
                                    </li>
                                </ul>
                            </li>
                            {/volist}
                        </ul>
                    </div>
                    <button type="submit" class="btn btn-primary"><i class="icon-ok"></i> Submit</button>
                </form>
            </div>
        </div>
    </div>
</div>
