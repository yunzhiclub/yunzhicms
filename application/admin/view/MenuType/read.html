{layout name="index" /}
<div class="row">
    <div class="span16">
        <div class="box pattern pattern-sandstone">
            <div class="box-header">
                <i class="icon-table"></i>
                <h5>
                {:$MenuModelType->title}
                </h5>
            </div>
            <div class="box-content box-table">
            <form id="yunzhicms-weight">
                <table id="sample-table" class="table table-hover table-bordered">
                    <thead>
                        <tr>
                            <th>标题</th>
                            <th width="14px">权重</th>
                            <th>url</th>
                            <th>是否显示</th>
                            <th>是否首页</th>
                            <th>描述</th>
                            <th class="td-actions">操作</th>
                        </tr>
                    </thead>
                    <tbody>
                        {volist name="MenuModels" id="MenuModel"}
                        <tr>
                            <td>{$MenuModel->title}</td>
                            <td><input style="width:100px" size="4" type="text" name="weight[{$MenuModel->id}]" value="{$MenuModel->weight}" />
                            </td>
                            <td>{$MenuModel->url}</td>
                            <td>{eq value="0" name="$MenuModel->getData('is_hidden')"}
                                <span class="badge span_backgroud_color">
                                    {$MenuModel->is_hidden}
                                </span>
                                {else /}
                                <span class="badge">
                                    {$MenuModel->is_hidden}
                                </span>
                                {/eq}
                            </td>
                            <td>
                                {eq value="1" name="$MenuModel->getData('is_home')"}
                                <span class="badge span_backgroud_color">
                                    {$MenuModel->is_home}
                                </span>
                                {else /}
                                <span class="badge">
                                    {$MenuModel->is_home}
                                </span>
                                {/eq}
                            </td>
                            <td>{$MenuModel->description}</td>
                            <td class="td-actions">
                                <a href="{:url('menu/edit?id=' . $MenuModel->id)}" class="btn btn-small btn-info">
                                    <i class="btn-icon-only icon-edit"></i> 编辑
                                </a>
                                <a href="{:url('menu/delete?id=' . $MenuModel->id)}" class="btn btn-small btn-danger">
                                    <i class="btn-icon-only icon-remove"></i> 删除
                                </a>
                            </td>
                        </tr>
                            {volist name="MenuModel->sonMenuModels()" id="MenuModel"}
                            <tr>
                                <td>|----{$MenuModel->title}</td>
                                <td><input style="width:100px" size="4" type="text" name="weight[{$MenuModel->id}]" value="{$MenuModel->weight}" /></td>
                                <td>{$MenuModel->url}</td>
                                <td>{eq value="0" name="$MenuModel->getData('is_hidden')"}
                                    <span class="badge span_backgroud_color">
                                        {$MenuModel->is_hidden}
                                    </span>
                                    {else /}
                                    <span class="badge">
                                        {$MenuModel->is_hidden}
                                    </span>
                                    {/eq}
                                </td>
                                <td>
                                    {eq value="1" name="$MenuModel->getData('is_home')"}
                                    <span class="badge span_backgroud_color">
                                        {$MenuModel->is_home}
                                    </span>
                                    {else /}
                                    <span class="badge">
                                        {$MenuModel->is_home}
                                    </span>
                                    {/eq}
                                </td>
                                <td>{$MenuModel->description}</td>
                                <td class="td-actions">
                                    <a href="{:url('menu/edit?id=' . $MenuModel->id)}" class="btn btn-small btn-info">
                                        <i class="btn-icon-only icon-edit"></i> 编辑
                                    </a>
                                    <a href="{:url('menu/delete?id=' . $MenuModel->id)}" class="btn btn-small btn-danger">
                                        <i class="btn-icon-only icon-remove"></i> 删除
                                    </a>
                                </td>
                            </tr>
                                {volist name="MenuModel->sonMenuModels()" id="MenuModel"}
                                <tr>
                                    <td>|----|----{$MenuModel->title}</td>
                                    <td><input style="width:100px" size="4" type="text" name="weight[{$MenuModel->id}]" value="{$MenuModel->weight}" />
                                    </td>
                                    <td>{$MenuModel->url}</td>
                                    <td>{eq value="0" name="$MenuModel->getData('is_hidden')"}
                                        <span class="badge span_backgroud_color">
                                            {$MenuModel->is_hidden}
                                        </span>
                                        {else /}
                                        <span class="badge">
                                            {$MenuModel->is_hidden}
                                        </span>
                                        {/eq}
                                    </td>
                                        <td>
                                        {eq value="1" name="$MenuModel->getData('is_home')"}
                                        <span class="badge span_backgroud_color">
                                        {$MenuModel->is_home}
                                        </span>
                                        {else /}
                                        <span class="badge">
                                        {$MenuModel->is_home}
                                        </span>
                                        {/eq}
                                    </td>
                                    <td>{$MenuModel->description}</td>
                                    <td class="td-actions">
                                        <a href="{:url('menu/edit?id=' . $MenuModel->id)}" class="btn btn-small btn-info">
                                            <i class="btn-icon-only icon-edit"></i> 编辑
                                        </a>
                                        <a href="{:url('menu/delete?id=' . $MenuModel->id)}" class="btn btn-small btn-danger">
                                            <i class="btn-icon-only icon-remove"></i> 删除
                                        </a>
                                    </td>
                                </tr>
                                {/volist}
                            {/volist}
                        {/volist}
                        
                        <div style="text-align:right;">
                            <a href="{:url('@admin/Menu/create')}" class="btn btn-small btn-info">
                                <i class="btn-icon-only icon-edit"></i> 新增
                            </a>
                        </div>
                    </tbody>
                </table>
                </form>
                <div>
                    <button id="button-weight" type="button" class="btn btn-primary">更新权重</button>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    var SCOPE = {
        'weight_url' : "{:url('MenuType/weight')}",
    }
</script>
